//Data Definition Language

CREATE TABLE customer (
id_customer VARCHAR2(7) PRIMARY KEY,
username VARCHAR2(14) NOT NULL,
password VARCHAR2(12) NOT NULL,
name VARCHAR2(20) NOT NULL,
gender VARCHAR2(10) NOT NULL,
email VARCHAR2(30) NOT NULL,
joinDate  DATE NULL
);

CREATE TABLE order (
id_order VARCHAR2(7) PRIMARY KEY,
id_customer VARCHAR2(7) FOREIGN KEY REFERENCES customer(id_customer) ON UPDATE CASCADE ON DELETE CASCADE,
orderDate DATE NULL,
entryDate DATE NULL
);

CREATE TABLE orderItem (
id_item VARCHAR2(7) PRIMARY KEY,
id_order VARCHAR2(7) FOREIGN KEY REFERENCES order(id_order) ON UPDATE CASCADE ON DELETE CASCADE,
quantity INTEGER NOT NULL,
price INTEGER NOT NULL,
estimatedDelivery INTEGER NOT NULL
);

CREATE TABLE itemToProduct (
id_seqProduct VARCHAR2(7) PRIMARY KEY,
id_product VARCHAR2(7) FOREIGN KEY REFERENCES product(id_product) ON UPDATE CASCADE ON DELETE CASCADE,
id_item VARCHAR2(7) FOREIGN KEY REFERENCES orderItem(id_item) ON UPDATE CASCADE ON DELETE CASCADE
);

CREATE TABLE product (
id_product VARCHAR2(7) PRIMARY KEY,
name VARCHAR2(20) NOT NULL,
type VARCHAR2(20) NOT NULL,
size VARCHAR2(4) NOT NULL
);

CREATE TABLE contactMechanism (
id_shipping VARCHAR2(7) PRIMARY KEY,
id_order VARCHAR2(7) FOREIGN KEY REFERENCES order(id_order) ON UPDATE CASCADE ON DELETE CASCADE,
name VARCHAR2(20) NOT NULL,
phone VARCHAR2(13) NOT NULL,
address VARCHAR2(50) NOT NULL
);
